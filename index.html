<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>JavaScript – Code Quality</title>

		<meta name="description" content="A talk to present JavaScript best practices and maintaining quality">
		<meta name="author" content="Md Khan">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<link rel="shortcut icon" href="images/favicon.jpg">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/white.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<style>
			.hide{
				display:none !important;
			}
		</style>
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>JS Code Quality</h1>
					<h3>How to create Large JS Application</h3>
					<p>
						<small><a href="http://hakim.se">thatjsdude.com</a> / <a href="http://twitter.com/hakimel">@mdkhan005</a></small>
					</p>
				</section>
				<section>
					<section>
						<h1>TODO</h1>
					</section>
					<section>
						<h2>TODO: Very good</h2>
						<ul>
							<li>What do you mean by code quality</li>
							<li>How we can measure code quality</li>
							<li>what specific about JS code quality</li>
							<li>Manage large application</li>
							<li>Few mistakes in JS</li>
								<ul>
									<li>Design/Architecture/Code review</li>
									<li>Unit test</li>
									<li>Code Analysis tools</li>
									<li>Security</li>
								</ul>
						</ul>
					</section>
					<section>
						<h2>Things from style guide</h2>
						<ul>
							<li>Rest</li>
							<li>Array Spread</li>
							<li>Modules</li>
							<li>Iterators and Generators</li>
						</ul>
					</section>
					<!-- <section>
						<h2>Less important</h2>
						<ul>
							<li><a href="http://kellegous.com/j/2013/01/26/layout-performance/">on layout and web performance</a></li>
							<li><a href="http://martinfowler.com/articles/refactoring-video-store-js/">Refactoring JS video store</a></li>
							<li><a href="https://github.com/bmeck/UnambiguousJavaScriptGrammar/blob/master/README.md ">Unambiguous JavaScript Grammar</a></li>
							<li><a href="http://developer.telerik.com/featured/web-going-2016/">what to expect</a></li>
							<a href="https://www.sitepoint.com/javascript-object-creation-patterns-best-practises/">Object Creation: Patterns: not very good</a>
							<li><a href="https://www.youtube.com/watch?v=xbZzahWakGs">Making Javascript Initialize Faster</a></li>
							<li><a href="https://www.youtube.com/watch?v=sjyJBL5fkp8">Funny var let const: video</a></li>
							<li><a href="https://facebook.github.io/react/blog/2016/07/11/introducing-reacts-error-code-system.html">Reacts Error System</a></li>
							<li><a href="http://devbryce.com/use-cases-for-es6-proxies/?utm_source=javascriptweekly&utm_medium=email">ES6 Proxy</a></li>
							<li><a href="http://blog.runnable.com/post/147262856601/5-reasons-why-you-should-be-using-promises">Promise</a></li>
							<li><a href="http://sobit.me/2016/07/08/amazon-software-engineer-interview/">Amazon hiring process</a></li>
						</ul>
					</section>
					<section>
						<h2>Use less</h2>
						<ul>
							<li><a href="https://github.com/bendc/frontend-guidelines">Front end guideline</a></li>
							<li><a href="http://corporate.tuenti.com/en/dev/blog/top-13-javascript-mistakes">Few mistakes</a></li>
							<li><a href="https://www.quora.com/JavaScript-programming-language-Are-Javascript-functions-like-map-reduce-and-filter-already-optimized-for-traversing-array/answer/Quildreen-Motta">map, filter performance</a></li>
						</ul>
					</section> -->
				</section>
				<section>
					<section>
						<h1>Code Quality</h1>
						<br>
						<br>
						<br>
						<small>(reality)</small>
					</section>
					<section>
						<h2>Plan for Quality</h2>
						<ul>
							<li></li>
							<li></li>
							<li></li>
							<li></li>
						</ul>
						<aside class="notes">
							<p>Give a oath that we will put enough description in the JIRA tickets so that QA can read and understand</p>
						</aside>

						<br>

						<a href="http://scottberkun.com/2007/asshole-driven-development/">asshole driven development</a>
					</section>
					<section>
						<h2>Agile Driven Development</h2>
						<ul>
							<li class="fragment">Assh*le Driven development (ADD)</li>
							<li class="fragment">SDD: Stackoverflow Driven Development</li>
							<li class="fragment">GDD: Google Driven Development</li>
							<li class="fragment">CPM: Copy Paste Modify Patterns</li>
							<li class="fragment">BDD: Bug Drriven Development</li>
						</ul>
						<aside class="notes">
							<h4>We do everything but Agile</h4>
							<p>Asshole Driven development (ADD) – Any team where the biggest jerk makes all the big decisions is asshole driven development. All wisdom, logic or process goes out the window when Mr. Asshole is in the room, doing whatever idiotic, selfish thing he thinks is best. There may rules and processes, but Mr. A breaks them and people follow anyway.</p>
							<p>SDD: Stackoverflow Driven Development. (modify this) Developers who are constantly thinking about the subject of their next blog post. Nearly every somewhat interesting line of code they write is extracted into a blog post.</p>
							<p> “Duct-tape Driven Design” are similar patchwork style methodologies LHFD (Low Hanging Fruit Development) </p>
							<p>CDD – Crisis Driven Development By Crisis (Management By Crisis). Everything is a Crisis. Every task, you have to “Drop everything” and work all night long! Woe to the developer that mentions that the user acceptance testing doesn’t even begin for another 2 months… Everything is a disaster.</p>
							<p>Bug Driven Development (BDD). Write code and features like crazy; once the features are complete push the product out the door and let the public do your QA.</p>
							<p>My current situation – Demo Driven Development (DDD or D3). When a feature is designed with the prime use case being “It’ll look good in a demo!”</p>

						</aside>
					</section>
					<section>
						<h2></h2>
						<ul>
							<li class="fragment">Mark all change request as Out of scope</li>
							<li class="fragment">Every bug is created by the guy left</li>

							<li class="fragment">Alwasy report progress as “It’s Almost Done”</li>
							<li class="fragment">GOD: Google Oriented Developer</li>
						</ul>
						<aside class="notes">
							<p>Out of Scope Development (OSD) where every request or idea, no matter how unrelated gets approved and expedited as long as it might sell one more piece of software or make one customer happy already. This is despite the fact that any monetary gains will be offset by the rising development costs of maintaining a hodgepodge of unrelated features.</p>
							<p>Blame The People Worked and Left (BTPWAL): When you see a glitch, doesn’t matter whether your code caused it or not…through it on the people worked on this project and left the organization. I see this frequently in consulting environments.</p>
							<p>Google Oriented Development – The Engineers know nothing; they get everything from search engines like Google</p>
							<p>CVDD : CV Driven Development – A variant of NDD – Nerd Driven Development and Must Use Specific Technology Development (MUSTP), places the coolness/shininess of the chosen methodology/technology as seen on the CV of the architect above all other requirements. Project collapses as soon as it is realized the method doesn’t work, the architect leaves or the next new technology arrives (refactoring time).</p>
							<p>ADD – “It’s Almost Done” Development. This Development methodology is common in small to medium development houses where certain procedures and policies are not set entirely and you are assigned a team with one or more “dead weight” developers.</p>
							<p>Management By Panic (MP) methodology. Every management action is predicated by an “emergency” change. Usually executed in the absence of planning.</p>
						</aside>
					</section>
					<section>
						<h2>Code Quality</h2>
						<blockquote>
							&ldquo; As a developer our job is to promise quality code at the beginning of the project and somehow mess it up in six months.&rdquo;
						</blockquote>
						<blockquote>
							<p> Don't worry, project manager will allocate plenty of time to clean those mess and create some new mess.</p>
						</blockquote>
					</section>
					<section>
						<h2>measure code quality</h2>
						<img class="fragment" src="images/wtf.png" alt="">
					</section>
					<section>
						<h2>How to write quality code</h2>
						<ul>
							<li>Some people (who dont have to write code and we call them manager) told us that we need five start for quality:</li>
							<ol>
								<li>documentation/comment</li>
								<li>static analysis</li>
								<li>unit test</li>
								<li>no build fail on continuous deployment</li>
								<li></li>
							</ol>
							<li>Don't finish the feature when there is code freeze. there will two more days for Really really code freeze</li>
							<li>Don't push code on Friday</li>
							<li>Old hamburger in the fridge</li>
							<li>Comment: line code</li>
							<li>Build: put green dot on project manager's monitor</li>
							<li>static analysis: jslint, hint ignore file</li>
							<li>If possible, blame the guy who left the job</li>
						</ul>
					</section>
					<section>
						<h2>Cleaning up</h2>
						<ul>
							<li>Testable code and break it down into simpler blocks.
							<li>split into modules. Each should only have one purpose and be unaware of the rest of your codebase logic.
							<li>Establish unit tests and browser automation with tools like Karma, Jasmine, or Nightwatch.js.
							<li>Consistent architecture and design.Don’t mix design patterns
							<li>Document your functions and code in a balanced way with properly named functions.
							<li>Use JSDoc to generate documentation for your JavaScript.
							<li>Can Jump straight in after few weekend off
						</ul>
						<br>
						<a href="https://www.sitepoint.com/write-maintainable-javascript/">Untangling Spaghetti Code</a>
					</section>
				</section>
				<section>
					<section>
						<h1>Code Quality</h1>
						<br>
						<br>
						<br>
						<small>(While you are in a meeting)</small>
					</section>
					<section>
						<h2>Code Quality</h2>
						<blockquote>oCde quality is a loose approximation of long-term usefulness and maintainability of code.</blockquote>
						<br>

					</section>
					<section>
						<h2>Code Quality</h2>
						<ol>
							<li>Clear and understandable design and architecture
							<li>Clear Naming convention and coding style
							<li>Documentation -- self-explaining code
							<li>Automated Unit tests
							<li>Code Review</li>
						</ol>
						<br>
						<br>
						<br>
						<a href="http://programmers.stackexchange.com/questions/61655/how-do-you-know-youre-writing-good-code">how do you write Good code</a>
					</section>
					<section>
						<h2>Other code smells</h2>
						<ul>
							<li>Large classes or God object
							<li>Framework core modifications
							<li>Avoid Circular dependency
							<li>Clean Dead code</li>
							<li>Circular references
							<li>Sequential coupling
							<li>Avoid Hard-coding
						</ul>
						<br>
						<br>
						<br>
						<a href="https://www.butterfly.com.au/thinking/blog/entry/clean-high-quality-code-a-guide-on-how-to-become-a-better-programmer">Clean, high quality code</a>
					</section>
					<section>
						<h2>Project Setup for quality</h2>
						<ul>
							<li>Build tool: Grunt, Gulp, WebPack</li>
							<li>Unit test: Jasmine, Mocha, karma</li>
							<li>Code Coverage: Istanbul</li>
							<li>Package Management: Bower, npm</li>
						</ul>
					</section>
				</section>
				<section>
					<section>
						<h2>Refactor</h2>
					</section>
					<section>
						<h2>Read this</h2>
						<br>
						<a href="http://crushlovely.com/journal/7-patterns-to-refactor-javascript-applications-value-objects/">Reactor Value object</a>
					</section>
					<section>
						<h2>Good one</h2>
						<br>
						<a href="http://victorsavkin.com/post/63551894251/functional-refactoring-in-javascript">function refactoring JS</a>
					</section>
					<section>
						<h2>Similar to prevous one</h2>
						<p>Check whether it has different example</p>
						<br>
						<a href="https://blog.engineyard.com/2015/7-patterns-refactor-javascript-service-objects">Refactor JS</a>
					</section>
					<section>
						<h2>Promise</h2>
						<br>
						<a href="http://rebootjeff.github.io/blog/2015/06/14/refactoring-towards-functional-programming-in-javascript/">good example at the bottom</a>
						<br>
						or	
						<br>
						<a href="https://bitsofco.de/javascript-promises-101">promise 101</a>

					</section>
					<section>
						<h2>Refactor like this</h2>
						<br>
						<a href="http://www.bradoncode.com/tutorials/javascript-refactoring-tutorial-part-1/">JS refactoring</a>
					</section>
					<section>
						<h2>Start with this egghead.io</h2>
						<p>Create a page for this</p>
						<br>
						<a href="https://egghead.io/lessons/javascript-refactoring-array-prototype-by-example-filter-some-foreach">good example</a>
					</section>
					<section>
						<h2>Big and large example by Marting Fowler</h2>
						<br>
						<a href="http://martinfowler.com/articles/refactoring-video-store-js/">Refactoring a video store</a>
					</section>
					<section>
						<h2>Superhero</h2>
						<br>
						<a href="http://superherojs.com/#language">Super hero</a>
					</section>
					<section>
						<h2>Extra</h2>
						<ul>
							<li><a href="http://www.integralist.co.uk/posts/refactoring-techniques.html">Refactoring Technique</a></li>
							<li><a href="https://dzone.com/articles/cyclomatic-complexity-refactoring-tips-for-javascr-1">Cyclomatic Complexity</a></li>
						</ul>
					</section>
				</section>
				<section>
					<section>
						<h2>Review</h2>
					</section>
					<section>
						<h2>Time zone example</h2>
					</section>
					<section>
						<h2>Review Checklist</h2>
					</section>
					<section>
						<h2>Review tools</h2>
							<ul>
								<li>Crucible - commercial product by Atlassian (http://www.atlassian.com/softwar...)
							    <li>Code Collaborator - commercial product by SmartBear (http://smartbear.com/products/de...)
							    <li>Review Board - used at VMWare (http://www.review-board.org/)
							    <li>Rietveld - in use at Google (http://code.google.com/p/rietveld/)	
							</ul>
						    
					</section>
				</section>
				<section>
					<section>
						<h1>Make things testable</h1>
					</section>
					<section>
						<h2></h2>
						<br>
						<a href="https://www.smashingmagazine.com/2012/06/introduction-to-javascript-unit-testing/">JS Unit testing</a>
					</section>
					<section>
						<h2>good example at bottom</h2>
						<br>
						<a href="https://www.toptal.com/javascript/writing-testable-code-in-javascript">testable JS</a>
					</section>
					<section>
						<h2>very old and could be useful</h2>
						<br>
						<a href="http://www.adequatelygood.com/Writing-Testable-JavaScript.html">testable JS</a>
					</section>
				</section>
				<section>
					<section>
						<h1>Embrace ES6</h1>
					</section>
					<section>
						<h2>var, let, const</h2>
						<ul>
							<li class="fragment">`const` means can’t be reassigned</li>
							<li class="fragment">`let` to reassign a variable.</li>
							<li class="fragment">avoid using var</li>
							<li class="fragment">Use const for all of your references</li>
							<li class="fragment"> If you must reassign references, use let</li>
							<li class="fragment">both let and const are block-scoped.</li>
						</ul>
						<aside class="notes">
							<p>The main reason why let and const are useful is to use up less memory. If the JS engine knows something will not change it can allocate the least amount of memory and use cached values. With a var things can change all the time. I do agree with you though that for a lot of our code this can feel like overkill.</p>
							<p>let, const and block scoped bindings come into their own when we talk about large applications that need to scale, or libraries that need to have a very low memory footprint. It can be useful for smaller scripts, too, but you shouldn't feel that you need to use it just because it is the new thing to do. </p>
						</aside>
					</section>
					<section>
						<h2>Variable decleration</h2>
						<pre><code>
// bad
let i, len, dragonball,
    items = getItems(),
    goSportsTeam = true;

// bad
let i;
const items = getItems();
let dragonball;
const goSportsTeam = true;
let len;
						</code></pre>
						<pre class="fragment"><code>
// good
const goSportsTeam = true;
const items = getItems();
let dragonball;
let i;
let length;
						</code></pre>
					</section>
					<section>
						<pre><code>
// bad - unnecessary function call
function checkName(hasName) {
  const name = getName();

  if (hasName === 'test') {
    return false;
  }

  if (name === 'test') {
    this.setName('');
    return false;
  }

  return name;
}</code></pre>
					</section>
					<section>
						<pre><code>
// good
function checkName(hasName) {
  if (hasName === 'test') {
    return false;
  }

  const name = getName();

  if (name === 'test') {
    this.setName('');
    return false;
  }

  return name;
}</code></pre>
					</section>
				</section>
				<section>
					<section>
						<h2>Common functionality</h2>
						<br>
						<a href="https://github.com/bendc/frontend-guidelines">JavaScript guideline</a>
					</section>
					<section>
						<h2>Performance vs Readability</h2>
						<pre><code>
// bad (albeit way faster)
const arr = [1, 2, 3, 4];
const len = arr.length;
var i = -1;
var result = [];
while (++i < len) {
  var n = arr[i];
  if (n % 2 > 0) continue;
  result.push(n * n);
}
						</code></pre>
						<pre class="fragment"><code>
const isEven = n => n % 2 == 0;
const square = n => n * n;

const result = arr.filter(isEven).map(square);
						</code></pre>
						<aside class="notes">
							<p>Favor readability, correctness and expressiveness over performance. JavaScript will basically never be your performance bottleneck. Optimize things like image compression, network access and DOM reflows instead. If you remember just one guideline from this document, choose this one.</p>
						</aside>
					</section>
					<section>
						<h2>coercion</h2>
						<pre><code>
// bad
if (x === undefined || x === null) { ... }

// good
if (x == undefined) { ... }
						</code></pre>
					</section>
					<section>
						<h2>Loop</h2>
						<pre><code>
const sum = arr => {
  var sum = 0;
  var i = -1;
  for (;arr[++i];) {
    sum += arr[i];
  }
  return sum;
};

sum([1, 2, 3]); // => 6
						</code></pre>
						<pre class="fragment"><code>
const sum = arr =>
  arr.reduce((x, y) => x + y);

sum([1, 2, 3]); // => 6
						</code></pre>
					</section>
					<section>
						<h2>apply</h2>
						<pre><code>
const greet = (first, last) => `Hi ${first} ${last}`;
const person = ["John", "Doe"];

// bad
greet.apply(null, person);

// good
greet(...person);
						</code></pre>
						<aside class="notes">
							<p>Forget about apply(). Use the spread operator instead.</p>
						</aside>
					</section>
					<section>
						<h2>bind</h2>
						<pre><code>
const person = {
  first: "John",
  last: "Doe",
  greet() {
    const full = function() {
      return `${this.first} ${this.last}`;
    }.bind(this);
    return `Hello ${full()}`;
  }
}

						</code></pre>
						<pre class="fragment"><code>
const person = {
  first: "John",
  last: "Doe",
  greet() {
    const full = () => `${this.first} ${this.last}`;
    return `Hello ${full()}`;
  }
}
						</code></pre>
					</section>
					<section>
						<h2>nested function</h2>
						<pre><code>
const plus1 = a => a + 1;
const mult2 = a => a * 2;

// bad
mult2(plus1(5)); // => 12
						</code></pre>
						<pre class="fragment"><code>
// good
const pipeline = (...funcs) => val => funcs.reduce((a, b) => b(a), val);
const addThenMult = pipeline(plus1, mult2);
addThenMult(5); // => 12
						</code></pre>
					</section>
					<section>
						<h2>caching</h2>
						<pre><code>
const contains = (arr, value) =>
  Array.prototype.includes
    ? arr.includes(value)
    : arr.some(el => el === value);
contains(["foo", "bar"], "baz"); // => false
						</code></pre>
						<pre class="fragment"><code>
// good
const contains = (() =>
  Array.prototype.includes
    ? (arr, value) => arr.includes(value)
    : (arr, value) => arr.some(el => el === value)
)();
contains(["foo", "bar"], "baz"); // => false
						</code></pre>
					</section>
					<section>
						<h2>for...in</h2>
						<pre><code>
const shared = { foo: "foo" };
const obj = Object.create(shared, {
  bar: {
    value: "bar",
    enumerable: true
  }
});

// bad
for (var prop in obj) {
  if (obj.hasOwnProperty(prop))
    console.log(prop);
}
						</code></pre>
						<pre class="fragment"><code>
// good
Object.keys(obj).forEach(prop => console.log(prop));
						</code></pre>
					</section>
					<section>
						<h2>Objects as Maps</h2>
						<pre><code>
// bad
const me = {
  name: "Ben",
  age: 30
};
var meSize = Object.keys(me).length;
meSize; // => 2
me.country = "Belgium";
meSize++;
meSize; // => 3
						</code></pre>
						<pre class="fragment"><code>
// good
const me = new Map();
me.set("name", "Ben");
me.set("age", 30);
me.size; // => 2
me.set("country", "Belgium");
me.size; // => 3
						</code></pre>
					</section>
					<section>
						<h2>Dependencies</h2>
						<pre><code>
// bad
var _ = require("underscore");
_.compact(["foo", 0]));
_.unique(["foo", "foo"]);
_.union(["foo"], ["bar"], ["foo"]);
						</code></pre>
						<pre class="fragment"><code>
// good
const compact = arr => arr.filter(el => el);
const unique = arr => [...Set(arr)];
const union = (...arr) => unique([].concat(...arr));

compact(["foo", 0]);
unique(["foo", "foo"]);
union(["foo"], ["bar"], ["foo"]);
						</code></pre>
						<aside class="notes">
							<p>Minimize dependencies. Third-party is code you don't know. Don't load an entire library for just a couple of methods easily replicable:</p>
						</aside>
					</section>
					<section>
						<h2>Architecture</h2>
						<p>Doesn't look very good: can read if have time</p>
						<br>
						<a href="https://robots.thoughtbot.com/architecting-front-end-styles">architecting front end</a>
					</section>
				</section>
				<section>
					<section>
						<h1>Function</h1>
					</section>
					<section>
						<h2>use Function Declaration</h2>
						<ul>
							<li class="fragment">Are named: easier to identify in call stack</li>
							<li class="fragment">Whole body of function is hoisted</li>
							<li class="fragment">Don't declare a function in a non-function block (if, while, etc)</li>
						</ul>
						<pre class="fragment"><code>
// bad
const foo = function () {
};

// good
function foo() {
}
						</code></pre>
					</section>
					<section>
						<h2>arguments</h2>
						<ul>
							<li class="fragment">Never name a parameter arguments</li>
							<li class="fragment">Never use arguments, use rest syntax ...</li>
							<li class="fragment">... is explicit about which arguments</li>
							<li class="fragment">rest arguments are a real Array</li>
							<li class="fragment">arguments is Array-like object</li>
						</ul>
						<pre class="fragment"><code>
// bad
function concatenateAll() {
  const args = Array.prototype.slice.call(arguments);
  return args.join('');
}

// good
function concatenateAll(...args) {
  return args.join('');
}
						</code></pre>
					</section>
					<section>
						<h2>parameters</h2>
						<ul>
							<li class="fragment">Use default Parameter</li>
							<li class="fragment">Put default parameters last</li>
							<li class="fragment">Never Reassign or mutate parameter</li>
							<pre class="fragment"><code>
// bad
function f1(obj) {
  obj.key = 1;
};

// good
function f2(obj) {
  const key = Object.prototype.hasOwnProperty.call(obj, 'key') ? obj.key : 1;
};
							</code></pre>
						</ul>
						<br>
						<a href="https://www.sitepoint.com/es6-default-parameters/">Read this</a>
					</section>
					<section>
						<h2>see this</h2>
						<br>
						<a href="https://www.smashingmagazine.com/2016/07/how-to-use-arguments-and-parameters-in-ecmascript-6/">es6 parameter</a>
					</section>
					<section>
						<h2>Arrow Function</h2>
						<pre><code>
var evens = [2,4,6];

//es5
var odds = evens.map(function(item){
	return item + 1;
})

var pair = evens.map(function(item){
	return {
		even: item,
		odd: item + 1
	}
});
						</code></pre>
						<pre class="fragment"><code>
//es6
var odds = evens.map(v => v + 1);

var pairs = evens.map(v => ({even: v, odd: v + 1}));
						</code></pre>
					</section>
					<section>
						<h2>Arrow Function</h2>
						<ul>
							<li class="fragment">Talk what is arrow function</li>
							<li class="fragment">creates own version of execution context, this</li>
							<li class="fragment">In place of function expression</li>
							<li class="fragment">anonymous function</li>
							<pre class="fragment"><code>
// bad
[1, 2, 3].map(function (x) {
  const y = x + 1;
  return x * y;
});

// good
[1, 2, 3].map((x) => {
  const y = x + 1;
  return x * y;
});
							</code></pre>
						</ul>
					</section>
					<section>
						<h2>Don't use arrow function</h2>
						<br>
						<a href="http://rainsoft.io/when-not-to-use-arrow-functions-in-javascript/">When 'not' to use arrow functions</a>
					</section>
				</section>
				<section>
					<section>
						<h1>pure function</h1>
					</section>
					<section>
						<h2>pure function</h2>
						<ul>
							<li>doesn’t depend on or modify variables outside of its scope</li>
						</ul>
						<pre class="fragment"><code>
function mouseOnLeftSide(mouseX) {
    return mouseX < window.innerWidth / 2;
}

document.onmousemove = function(e) {
    console.log(mouseOnLeftSide(e.pageX));
};
						</code></pre>
						<ul class="fragment">
							<li>this piece of code works just fine</li>
							<li>does the job expected</li>
						</ul>
						<br>
						<br>
						<a href="http://alistapart.com/article/making-your-javascript-pure">Making your JavaScript Pure</a>
						<aside class="notes">
							<p>Not pure. </p>
							<p>within the body of the function, it refers to a window.innerWidth that it wasn’t explicitly given</p>
						</aside>
					</section>
					<section>
						<h2>Why Pure Function?</h2>
						<ul>
							<li class="fragment">Bug: a user reported the function doesn't work for window is less than 500 px</li>
							<li class="fragment">How do you test this?
								<ul class="fragment">
									<li>manually test by loading up your browser</li>
									<li>write some unit tests</li>
								</ul>
							</li>
							<li class="fragment">You cann't write unit test</li>
							<li class="fragment">function relies on window.innerWidth</li>
						</ul>
					</section>
					<section>
						<h2>Pure version</h2>
						<pre><code>
function mouseOnLeftSide(mouseX, windowWidth) {
    return mouseX < windowWidth / 2;
}

document.onmousemove = function(e) {
    console.log(mouseOnLeftSide(e.pageX, window.innerWidth));
};
						</code></pre>
						<pre class="fragment"><code>
mouseOnLeftSide(5, 499);
						</code></pre>
					</section>
					<section>
						<h2>Why Pure</h2>
						<ul>
							<li class="fragment">Self-documenting</li>
							<li class="fragment">Know dependency at declaration</li>
							<li class="fragment">Avoid changes in global variables</li>
							<li class="fragment">Referential transparency</li>
							<pre class="fragment"><code>
function mouseOnLeftSide(mouseX) {
    return mouseX < window.innerWidth / 2;
}

</code></pre>
						</ul>
						<aside class="notes">
							<p>If you know that a function doesn’t reach out of its scope to get data, you know the only data it can possibly touch is passed in as arguments. </p>
							<p>Global variables are a common source of bugs. Anything could change the value of a global variable, and hence the function could now behave differently.</p>
							<p>Referential transparency:given the same inputs, the output is always the same. In the impure version, same input can return 5 different results</p>
						</aside>
					</section>
					<section>
						<h2>How to Decide</h2>
						<ul>
							<li class="fragment">Impossible to avoid impure function
								<ul class="fragment">
									<li>fetch data</li>
									<li>read DOM</li>
								</ul>
							</li>
							<li class="fragment">Structure in a way to isolate impure function</li>
							<li class="fragment">Try to use pure as many place as possible</li>
						</ul>
						<aside class="notes">
							<p>It’s impossible to have pure functions consistently—there will always be a time when you need to reach out and fetch data, the most common example of which is reaching into the DOM to grab a specific element to interact with.</p>
						</aside>
					</section>
					<section>
						<h2>Read comment and change this example</h2>
						<pre class="fragment"><code>
function changeElementToRed() {
    var foo = document.getElementById('foo');
    foo.style.backgroundColor = "red";
}

changeElementToRed();

</code></pre>
						<ul>
							<li class="fragment">This function is not reusable at all</li>
							<li class="fragment">Hard to test</li>
							<li class="fragment">Have to create element with specific ID</li>
						</ul>
						<aside class="notes">
							<p>This function is not reusable at all; it’s directly tied to a specific DOM element. If we wanted to reuse it to change a different element, we couldn’t.</p>
						</aside>
					</section>
					<section>
						<h2></h2>
						<pre><code>
function changeElementToRed(elem) {
    elem.style.backgroundColor = "red";
}

function changeFooToRed() {
    var foo = document.getElementById('foo');
    changeElementToRed(foo);
}

changeFooToRed();

</code></pre>
						<ul>
							<li class="fragment">Even though part is impure</li>
							<li class="fragment">Can test core part</li>
							<li class="fragment"> increase its readability, re-usability, and testability</li>
						</ul>
						<aside class="notes">
							<p>By keeping the places where you’re impure to a minimum and creating as many pure, reusable functions as you can, you’ll save yourself a huge amount of pain in the future and write better code.</p>
						</aside>
					</section>
				</section>
				<section>
					<section>
						<h2>three dots</h2>
						<br>
						<a href="http://rainsoft.io/how-three-dots-changed-javascript/">How three dots changed JavaScript</a>
					</section>
				</section>
				<section>
					<section>
						<h2>naming this</h2>
						<p>think about ES6 as well</p>
						<br>
						<a href="https://gist.github.com/cjohansen/4135065">naming this in nested function</a>
					</section>
				</section>
				<section>
					<section>
						<h2>Simple Rules</h2>
						<p>Simple rules that all of us know</p>
					</section>
					<section>
						<blockquote>
							“There are only 2 hard things in CS: cache invalidation and naming things”
						</blockquote>
					</section>
					<section>
						<h2>Naming Convention</h2>
						<p>No body writes name like this</p>
						<pre><code class="hljs" data-trim contenteditable>
 var $d; //elapsed time in days
 var dsc; //description

 var god_damn_it_IE;
						</code></pre>
						<p>Google weird variable name</p>

						<pre><code>
other language
						</code></pre>
 						<aside class="notes">
							<p class="">But</p>
							<ul>
								<li>When things are not working as expecting</li>
								<li>You starts trying different things</li>
								<li>After trying a lot of things.</li>
								<li>It starts working and you focus on checking</li>
								<li>Become happy and push the code</li>
							</ul>
						</aside>
					</section>
					<section>
						<h2>comment</h2>
						<ul>
							<li class="fragment">Don’t comment bad code, rewrite it</li>
							<li class="fragment">If code is readable you don’t need comments</li>
							<pre class="fragment"><code>
This is bad:

// Check to see if the employee is eligible for full benefits

if ($employee->flags && self::HOURLY_FLAG && $employee->age > 65)

This is good:

if ($employee->isEligibleForFullBenefits())
							</code></pre>
							<li class="fragment"></li>
							<li class="fragment"></li>
						</ul>
					</section>
					<section>
						<h2>comment</h2>
						<ul>
							<li class="fragment">Explain your intention in comments</li>
							<pre><code>
// if we sort the array here the logic becomes simpler in calculatePayment() method
							</code></pre>
							<li class="fragment">Warn of consequences in comments</li>
							<pre><code>
// this script will take a very long time to run
							</code></pre>
							<li class="fragment">Emphasis important points in comments</li>
							<pre><code>
// the trim function is very important, in most cases the username has a trailing space
							</code></pre>
							<li class="fragment">Always have your PHPDoc comments</li>
							<li class="fragment">Noise comments are bad</li>
							<pre><code>
/** The day of the month. */
private $dayOfMonth;
							</code></pre>
							<li class="fragment">Never leave code commented</li>
						</ul>
					</section>
					<section>
						<pre><code>
// In the global scope:
var NaN = 42;
console.log(NaN); // NaN

// …but elsewhere:
(function() {
	var NaN = 42;
	console.log(NaN); // 42
}());
						</code></pre>
					</section>
				</section>
				<section>
					<section>
						<h1>Modules</h1>
					</section>
					<section>
						<h2></h2>
						<br>
						<a href="https://plot.ly/javascript/modularizing-monolithic-javascript-projects/">three types</a>
					</section>
					<section>
						<h2>have good example</h2>
						<br>
						<a href="http://enterprisewebbook.com/ch6_large_js_apps.html">check this</a>
					</section>
					<section>
						<h2>get examples</h2>
						<br>
						<a href="https://addyosmani.com/resources/essentialjsdesignpatterns/book/#modulepatternjavascript">addy osmani book</a>
					</section>
					<section>
						<h2>or just use this as an example</h2>
						<br>
						<a href="https://www.sitepoint.com/music-streaming-app-electron-react-es6/">music streaming</a>
					</section>
				</section>
				<section>
					<section>
						<h4>5 JavaScript “Bad” Parts That Are Fixed In ES6</h4>
						<br>
						<a href="https://medium.freecodecamp.com/5-javascript-bad-parts-that-are-fixed-in-es6-c7c45d44fd81#.b4gtqri4o">“Bad” Parts Fixed In ES6</a>
					</section>
					<section>
						<p>ECMAScript 6 (ES6) features can be divided into features that are pure syntactic sugar (like: class), features that enhance JavaScript (like import) and features that fix some of JavaScript’s “bad” parts (like the let keyword). Most blogs and articles combine all three types, and can overwhelm newcomers. So I’m writing this post that focuses on just the key ES6 features that fix “bad” parts.</p>

					</section>
					<section>
						<h2>1. Block Scope</h2>
						<p>Prevent Variable Hoisting Outside of Scope</p>
						<p>Prevent Duplicate Variable Declaration</p>
						<p>Eliminates The Need For IIFE</p>
						<p>Makes It Trivial To Use Functions In Loops</p>
					</section>
					<section>
						<h2>2. Lexical “this” (via Arrow Functions)</h2>
						<p>The problem and two workarounds in ES5:</p>
					</section>
					<section>
						<h2>3. Dealing With “arguments”</h2>
						<p>Here something</p>
					</section>
					<section>
						<h2>4. Classes</h2>
						<p></p>
						<br>
						<a href="https://medium.com/@rajaraodv/is-class-in-es6-the-new-bad-part-6c4e6fe1ee65#.yz44kqluo">Is “Class” In ES6 The New “Bad” Part?</a>
					</section>
					<section>
						<h2>5. Strict Mode</h2>
						<p></p>
					</section>
				</section>
				<section>
					<section>
						<h2>Some pattern</h2>
						<p>move with other parts</p>
						<br>
						<a href="http://code.tutsplus.com/tutorials/the-essentials-of-writing-high-quality-javascript--net-15145">High Quality JS</a>
					</section>
					<section>

						<pre><code>
document.getElementsByName()
document.getElementsByClassName()
document.getElementsByTagName()
						</code></pre>
						<pre class="fragment"><code>
document.images
document.links
document.forms
document.scripts
document.styleSheets
						</code></pre>
						<aside class="notes">
							<p>The trouble with collections is that they are live queries against the underlying document (the HTML page). This means that every time you access any collection’s length, you’re querying the live DOM, and DOM operations are expensive in general.</p>
						</aside>
					</section>
					<section>
						<h2>Increase readability by using switch statement</h2>
						<pre><code>
var inspect_me = 0,
    result = '';
switch (inspect_me) {
case 0:
   result = "zero";
   break;
case 1:
   result = "one";
   break;
default:
   result = "unknown";
}
						</code></pre>
					</section>
					<section>
						<h2>Indentation</h2>

					</section>
					<section>
						<h2>Curly braces</h2>
						<pre><code>
// bad practice
for (var i = 0; i < 10; i += 1)
   alert(i);
   alert(i + " is " + (i % 2 ? "odd" : "even"));
						</code></pre>
					</section>
				</section>
				<section>
					<section>
						<h2>Cleverness</h2>
						<ul>
							<li>Things could be clever, but not too clever
							<li>Algorithms are optimal (fast and readable)
						</ul>
					</section>
					<section>
						<h2>Don't be clever</h2>
						<pre><code>
// Don’t:
return x === 0 ? 'red' : x === 1 ? 'green' : 'blue';

// Better:
if (x === 0) {
    return 'red';
} else if (x === 1) {
    return 'green';
} else {
    return 'blue';
}

// Best:
switch (x) {
    case 0:
        return 'red';
    case 1:
        return 'green';
    default:
        return 'blue';
}
						</code></pre>
						<br>
						<a href="http://speakingjs.com/es5/ch26.html">Speaking JavaScript</a>
					</section>
					<section>
						<pre><code>
foo && bar(); // no
if (foo) bar(); // yes

foo || bar(); // no
if (!foo) bar(); // yes
						</code></pre>
					</section>
					<section>
						<h2>don't be clever</h2>
						<pre><code>
// Unsure: what is happening?
return ++foo;

// Easy to understand
++foo;
return foo;
						</code></pre>
						<pre class="fargment"><code>
return x >> 0; // no
return Math.round(x); // yes
						</code></pre>
					</section>
					<section>
						<pre><code>
> +'123'  // no
123
> Number('123')  // yes
123

> ''+true  // no
'true'
> String(true)  // yes
'true'
						</code></pre>
					</section>
					<section>
						<h2>other links</h2>
						<ul>
							<li><a href="http://rainsoft.io/power-up-the-array-creation-in-javascript/">Power up the array creation</a></li>
							<li><a href="http://rainsoft.io/understanding-constructor-property/">Inheritance in JavaScript</a></li>
							<li><a href="http://rainsoft.io/catch-the-xmlhttp-request-in-plain-javascript/">Catch the XMLHttpRequest</a></li>
							<li><a href="http://rainsoft.io/javascriptss-addition-operator-demystified/">addition operator in details</a></li>
						</ul>
					</section>
				</section>
				<section>
					<section>
						<h2>Memory Leak</h2>
					</section>
				</section>
				<section>
					<section>
						<h2>Single Page Application</h2>
					</section>
				</section>
				<section>
					<section>
						<h2>Forward conf talk</h2>
						<p>Watch video</p>
						<br>
						<a href="https://www.youtube.com/watch?v=TYeBsdcYs7U&index=4&list=PLndbWGuLoHebKI8krCzJU88Rf3TwhNZvH">Best Practices for Building Popular Open-Source JavaScript Libraries - Forward 4 Web Summit </a>
					</section>
				</section>
				<section>
					<section>
						<h2>when to test</h2>
						<p>very good: make it generic</p>
						<br>
						<a href="http://www.yearofmoo.com/2013/09/advanced-testing-and-debugging-in-angularjs.html">Advanced Testing and Debugging in AngularJS</a>
					</section>
					<section>
						<div>
							<h4>Does the page loads correctly</h4>
							<ul>
								<li>Web Driver</li>
								<li>E2E test</li>
								<li>Full integration test through given URL</li>
								<li>multiple browser</li>
							</ul>
						</div>
						<div class="fragment">
							<h4>Server side testing</h4>
						</div>
					</section>
					<section>
						<div>
							<h4>Unit Testing</h4>
							<ul>
								<li>Jasmine or Mocha</li>
								<li>Solid test spec for each feature</li>
								<li>each block of code(functions, objects, methods, etc.)</li>
							</ul>
						</div>
					</section>
					<section>
						<h2>Run and show unit test</h2>
						<br>
						<a href="http://developer.telerik.com/featured/journey-client-side-testing-javascript/">JS unit testing</a>
					</section>
					<section>
						<h2></h2>
						<br>
						<a href="https://philipwalton.com/articles/learning-how-to-set-up-automated-cross-browser-javascript-unit-testing/">could find something</a>
					</section>
				</section>
				<section>
					<section>
						<h2>JS Self-documenting</h2>
						<br>
						<a href="https://www.sitepoint.com/self-documenting-javascript/">15 ways to write self documenting</a>
					</section>
				</section>
				<section>
					<section>
						<h2>Use Dev tool</h2>
						<br>
						<a href="https://developers.google.com/web/updates/2016/06/devtools-digest">DevTools in 2016 and Beyond</a>
						<br>
						<a href="https://developers.google.com/web/updates/2016/06/performance-observer">Access Performance data</a>
					</section>
				</section>
				<section>
					<section>
						<h2>security</h2>
					</section>
					<section>
						<h2>Facebook sixth sense</h2>
						<p>can use as an example</p>
						<br>
						<a href="http://kirszenberg.com/facebook-sixth-sense">link</a>
					</section>
				</section>
				<section>
					<section>
						<h1>Others</h1>
					</section>
					<section>
						<h2>git pre commit hook</h2>
					</section>
				</section>
				<section>
					<section>
						<h1>CSS</h1>
					</section>
					<section>
						<h2>CSS guidelines</h2>
						<a href="http://cssguidelin.es/">cssguidelin.es</a>
					</section>
					<section>
						<h2>maintainable css</h2>
						<br>
						<a href="http://maintainablecss.com/">maintainable css</a>
					</section>
					<section>
						<h2>Improving css quality in facebook</h2>
						<br>
						<a href="https://code.facebook.com/posts/879890885467584/improving-css-quality-at-facebook-and-beyond/">improving css quality</a>
					</section>
					<section>
						<h2>side effects in css</h2>
						<br>
						<a href="https://philipwalton.com/articles/side-effects-in-css/">side effects in css</a>
					</section>
					<section>
						<h2>BEM and architecture</h2>
						<br>
						<a href="https://www.lullabot.com/articles/bem-atomic-design-a-css-architecture-worth-loving">CSS architecture</a>
					</section>
					<section>
						<h2>Mixins Better for Performance</h2>
						<br>
						<a href="http://csswizardry.com/2016/02/mixins-better-for-performance/">mixins for performance</a>
					</section>
					<section>
						<h2></h2>
						<ul>
							<li>Use a prefix (for class names)</li>
							<li>No CSS selector nesting</li>
							<li>Build components with BEM naming</li>
							<li></li>
						</ul>
						<br>
						<a href="https://medium.com/peergrade-io/structuring-css-in-large-projects-37f1695f5ec8#.bicuecsn4">Structure large project css</a>
					</section>
					<section>
						<h2>others</h2>
						<ul>
							<li><a href="https://speckyboy.com/2016/05/10/good-bad-css-practices/">css best practices</a></li>
							<li><a href="https://robots.thoughtbot.com/you-don-t-need-javascript-for-that">you don't need JS for that</a></li>
							<li><a href="https://www.chenhuijing.com/blog/how-well-do-you-know-display/">CSS display</a></li>
							<li><a href="https://18f.gsa.gov/2016/01/11/introducing-the-css-coding-style-guide/">US gov css style</a></li>
							<li><a href="http://www.testmycss.com/">test css</a></li>
							<li><a href="https://medium.com/statuscode/the-14-most-popular-css-links-of-2016-so-far-96a6e64378d5#.tzshbwe06">other 14 links</a></li>
						</ul>
					</section>
				</section>
				<section>
					<section>
						<h2>Need more?</h2>
					</section>
					<section>
						<h2>List of style guides</h2>
						<ul>
							<li><a href="https://github.com/airbnb/javascript">Airbnb Style Guide</a></li>
							<li><a href="http://speakingjs.com/es5/ch26.html"> Meta Code Style Guide</a></li>

							<li><a href=""></a></li>
							<li><br>
						<a href="https://medium.com/javascript-scene/7-surprising-things-i-learned-writing-a-fibonacci-generator-4886a5c87710#.z3baeouz5">7 Surprising Things I Learned Writing a Fibonacci Generator in JavaScript</a></li>
						</ul>
					</section>
				</section>
				<section>
					<h2>Take a Moment</h2>
					<p>
						Press B or . on your keyboard to pause the presentation. This is helpful when you're on stage and want to take distracting slides off the screen.
					</p>
				</section>
				<section style="text-align: left;">
					<h1>THE END</h1>
					<p>
						- <a href="http://slides.com">Try the online editor</a> <br>
						- <a href="https://github.com/hakimel/reveal.js">Source code &amp; documentation</a>
					</p>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
